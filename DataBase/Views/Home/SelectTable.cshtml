@model   DataSet
@using System.Data
@{
    ViewBag.Title = "查询结果";
    Layout = null;
}
  
<ul id="myTabs" class="nav nav-tabs" role="tablist">
   @for (int i = 0; i < Model.Tables.Count; i++)
   {
       string tableName = Model.Tables[i].TableName;
    <li role="presentation" class="active">
        <a href="#@tableName" id="@(tableName)-tab" role="tab" data-toggle="tab" aria-controls="@(tableName)" aria-expanded="true">@tableName</a>
    </li>
   }
</ul> 
<div id="myTabContent" class="tab-content">
    @for (int i = 0; i < Model.Tables.Count; i++)
    {
        string tableName = Model.Tables[i].TableName;
    <div role="tabpanel" class="tab-pane fade in active" id="@tableName" aria-labelledBy="@(tableName)-tab">
        <table class="gridtable">
            @{
                DataTable dt = Model.Tables[i];
                int columnTotal = dt.Columns.Count;
            }
            <tr>
                @if (columnTotal > 0)
                {
                    <th>序号</th>
                }
                @foreach (DataColumn dc in dt.Columns)
                {
                    <th>@dc.ColumnName</th>
                }
            </tr>
            @for (int rowIndex = 0; rowIndex < dt.Rows.Count; rowIndex++)
            {
                DataRow dr = dt.Rows[rowIndex];
                <tr>
                    <td>@(rowIndex + 1)</td>
                    @for (int j = 0; j < columnTotal; j++)
                    {
                        <td>@dr[j]</td>
                    }
                </tr>
            }
        </table>        
     </div> 
    }
</div> 
